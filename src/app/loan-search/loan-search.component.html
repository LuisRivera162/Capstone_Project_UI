<div class="modal fade" id="loanInfoModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Loan Information</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group row">
                    <label class="col-sm-6 col-form-label">Loan ID</label>
                    <div class="col-sm-6">
                        <a href="https://kovan.ethersacan.io/address/">{{curr_loan.eth_address}}</a>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-6 col-form-label">Loan Amount</label>
                    <div class="col-sm-6">
                        {{curr_loan.amount | currency}}
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-6 col-form-label">Interest</label>
                    <div class="col-sm-6">
                        {{curr_loan.interest}}%
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-6 col-form-label">Repayment Time (months)</label>
                    <div class="col-sm-6">
                        {{curr_loan.months}}
                    </div>
                </div>
                <hr>
                <div id="calculatedEstimates">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">Est. Monthly Payment</h5>
                        <h5  class="mb-1 text-success">${{curr_loan.monthly_repayment | number: '1.0-2'}}</h5>
                    </div>
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">Est. Total Interest</h5>
                        <h5  class="mb-1 text-success">${{curr_loan.est_total_interest | number: '1.0-2' }}</h5>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" data-dismiss="modal" >Review & Confirm Request</button>
            </div>
        </div>
    </div>
</div>

<div class="card" style="margin-top: 50px; padding-bottom: 10px;">
    <h3 class="card-header">
        Available Loans
    </h3>
    <ul class="overflow-auto list-group list-group-flush" style="height: 80vh;">
        <a class="list-group-item list-group-item-action" *ngFor="let loan of loans;  let i = index" data-toggle="modal" data-target="#loanInfoModal"
        (click)="loadLoanInfo(i)">
            <div class="d-flex">
                <h5 class="mb-1 align-self-center" style="margin-right: 2px;"> {{loan.amount | currency }}</h5>
                <small class="align-self-center"><span class="badge badge-warning" style="margin-right: 2px;">{{loan.interest}}%</span></small>
                <small class="align-self-center"><span class="badge badge-info" style="margin-right: 2px;">1 months</span></small>

                <!-- <button class="btn btn-success ml-auto p-2" data-toggle="modal" data-target="#loanInfoModal"
                    (click)="loadLoanInfo(i)">Request</button> -->
            </div>
            <p class="mb-1">
                <span class="badge badge-success" style="margin-right: 2px;">Available</span>
            </p>
            <small><b>Lender:</b> Victor M. ({{loan.user_id}})</small>
            <p class="mb-1">
                <small><b>Loan ID: </b><a href="#" >{{loan.eth_address}}</a></small>
            </p>
        </a>
    </ul>
</div>



<script>
    $('#loanInfoModal').on('shown.bs.modal', function () { })
</script>